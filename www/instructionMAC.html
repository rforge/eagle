<!DOCTYPE HTML>
<!--
	Alpha by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Eagle installation Iinstructions for Mac OS</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>
		<div id="page-wrapper">

			
				<header id="header">
					<nav id="nav">
						<ul>
							<li><a href="index.html">Home</a></li>
							<li>
								<a href="#" class="icon fa-angle-down">Eagle</a>
								<ul>
									<li><a href="quickstart.html">Quick Start</a></li>
									<li><a href="multithreadR.html">Multi-threaded R</a></li>
									<li><a href="instruction.html">Installation</a></li>
									<li><a href="videos.html">Videos</a></li>
									<li><a href="faq.html">faq</a></li>
<!--									<li>
										<a href="#">Submenu</a>
										<ul>
											<li><a href="#">Option One</a></li>
											<li><a href="#">Option Two</a></li>
											<li><a href="#">Option Three</a></li>
											<li><a href="#">Option Four</a></li>
										</ul> -->
									</li>
								</ul>
							</li>
							<li><a href="demo.html">Demo</a></li>
							<li><a href="contact.html">Contact Us</a></li>
							<!-- <li><a href="#" class="button">Contact Us</a></li> -->
						</ul>
					</nav>
				</header>

			
			
			<!-- Main -->
				<section id="main" class="container">
					<header>
						<h2>Eagle for Mac OS</h2>
						<p>A How To guide for installing Eagle along with multi-threaded R [last revised Sept 2018] </p>
					</header>
		<!--			<div class="box">
						<span class="image featured"><img src="images/pic01.jpg" alt="" /></span>
						<h3>This is a subheading</h3>
						<p>Cep risus aliquam gravida cep ut lacus amet. Adipiscing faucibus nunc placerat. Tempus adipiscing turpis non blandit accumsan eget lacinia nunc integer interdum amet aliquam ut orci non col ut ut praesent. Semper amet interdum mi. Phasellus enim laoreet ac ac commodo faucibus faucibus. Curae ante vestibulum ante. Blandit. Ante accumsan nisi eu placerat gravida placerat adipiscing in risus fusce vitae ac mi accumsan nunc in accumsan tempor blandit aliquet aliquet lobortis. Ultricies blandit lobortis praesent turpis. Adipiscing accumsan adipiscing adipiscing ac lacinia cep. Orci blandit a iaculis adipiscing ac. Vivamus ornare laoreet odio vis praesent nunc lorem mi. Erat. Tempus sem faucibus ac id. Vis in blandit. Nascetur ultricies blandit ac. Arcu aliquam. Accumsan mi eget adipiscing nulla. Non vestibulum ac interdum condimentum semper commodo massa arcu.</p>
						<div class="row">
							<div class="6u 12u(mobilep)">
								<h3>And now a subheading</h3>
								<p>Adipiscing faucibus nunc placerat. Tempus adipiscing turpis non blandit accumsan eget lacinia nunc integer interdum amet aliquam ut orci non col ut ut praesent. Semper amet interdum mi. Phasellus enim laoreet ac ac commodo faucibus faucibus. Curae lorem ipsum adipiscing ac. Vivamus ornare laoreet odio vis praesent.</p>
							</div>
							<div class="6u 12u(mobilep)">
								<h3>And another subheading</h3>
								<p>Adipiscing faucibus nunc placerat. Tempus adipiscing turpis non blandit accumsan eget lacinia nunc integer interdum amet aliquam ut orci non col ut ut praesent. Semper amet interdum mi. Phasellus enim laoreet ac ac commodo faucibus faucibus. Curae lorem ipsum adipiscing ac. Vivamus ornare laoreet odio vis praesent.</p>
							</div>
						</div>
					</div>   -->
				
				


<script>
  function showhide(id) {
       	var e = document.getElementById(id);
       	e.style.display = (e.style.display == 'block') ? 'none' : 'block';
     }
 </script>
 
 



 
<div class="box">

					<h3 id="elements">Before You Start</h3>
			
				
					<p> You will need administrator privileges.  This 
					gives the installation script access to write-protected 
					parts of the system.  </p>
					
					
			
</div>		      
	
	
				
	
<div class="box" >
			 
<h3>Overview</h3>

<p>
Of all the operating systems, macOS proved to be the most challenging in which to develop 
a  robust set of instructions for installing a multi-threaded version of 
R and Eagle. Unlike on a Linux and Windows system, here R Open would not install cleanly when an older version 
of R was present. To get around this problem, we have instead opted to install standard R and 
replace its single-threaded math libraries  with multi-thread (openBLAS) math libraries. 
</p>

<p>
The instructions below look worse than what they actually are. 
The process is install R, install some compilers to allow R to handle source code, 
install openBLAS for multi-threaded 
computation, and then install Eagle. 


</p>
				
</div>



<div class ="box">
<h3> Step 1: Install  <b>XQuartz</b>  </h3>
<a href="javascript:showhide('step1')">
<img src="images/instructions.png"  class="img-responsive" width="70px" height="70px"/>
</a>


<div   id="step1" style="display:none;">	

<p></p>  
XQuartz contains libraries for running X11 from within a macOS 
environment. Some of the packages upon which Eagle is dependent require X11 support.  
<p></p>

<ol>
<li>  Go to the  <a href="http://xquartz.org/">Quartz</a> website and 
click on <b>XQuartz-2.7.11.dmg</b> to download the file. </li>

<li> Go into the <b>Downloads</b> folder and click on the file to begin the 
installation process.   </li>

<li> Once the installation has finished, click on <b>Move to Trash</b> to remove the installation package. </li>

<li> To complete the installation process, <b>Log out</b>  and log back in to your account. </li>
</ol>

</div>


</div>





<div class ="box">	
<h3>Step 2: Install  the latest version of <b>clang</b> </h3>
<a href="javascript:showhide('step2')">
<img src="images/instructions.png"  class="img-responsive" width="70px" height="70px"/>
</a>




<div   id="step2" style="display:none;">	
 
<p></p>
Eagle, as well as some of its dependencies, require compilation via C and C++ compilers.
Your system may already have these compilers, especially if you have Xcode installed. 
However, Eagle failed to install under some macOS versions when we used the C and C++ 
compilers in  Xcode due to OpenMP parallelisation not being supported. 
Below are instructions for installing a set of C and C++ compilers, as recommended on CRAN,  
with OpenMP support. 

<p></p>

<ol>
<li> Go to the <a href="https://cran.r-project.org/bin/macosx/tools/">Tools</a> page on CRAN. This page can also be 
accessed by going to the <a href="https://cran.r-project.org/">CRAN</a> home page, clicking on 
 <b>Download R for (Mac) OS X</b>, and clicking on the <b>tools</b> link that is buried in the fourth paragraph. 
 </li>

<li> Click on <b>clang-6.0.0.pgk</b> to begin downloading the package. </li>



<li> Go into the <b>Downloads</b> folder and click on the file to begin the 
installation process.  </li>



<li> Once the installation has finished, click on <b>Move to Trash</b> to remove the installation package. </li>
</ol>

</div>
</div>






<div class ="box" >	
<h3>Step 3: Making the C and C++ compilers findable to R </h3>
<a href="javascript:showhide('step3')">
<img src="images/instructions.png"  class="img-responsive" width="70px" height="70px"/>
</a>

<div id="step3" style="display:none;">	

<p></p>
The easiest way of telling R to use the latest C compilers that were installed in Step 4 is to 
create a Makevars file as follows. 




<ol>
<li> Create a new .R directory with the command 
<pre > mkdir ~/.R  </pre>
</li>

<li> Change into the new .R directory and create a new Makevars file using 
<pre> nano Makevars </pre>
</li>

<li> Using the CC and CXX flags, add the location and name of the new clang and clang++ compilers that were installed in Step 4. 
On our system (High Sierra), the extra lines are
<pre>CC=/usr/local/clang6/bin/clang
CXX=/usr/local/clang6/bin/clang++ </pre>
</li>

<li> <b>Save</b> and exit the file </li>
</ol>


</div>
</div>



<div class ="box">
<h3> Step 4: Install  the latest version of <b>GNU Fortran</b> </h3>
<a href="javascript:showhide('step4')">
<img src="images/instructions.png"  class="img-responsive" width="70px" height="70px"/>
</a>


<div   id="step4" style="display:none;">	
<p></p>  


<ol>

<li> Go to the <a href="https://cran.r-project.org/bin/macosx/tools/">Tools</a> page on CRAN. This page can also be 
accessed by going to the <a href="https://cran.r-project.org/">CRAN</a> home page, clicking on 
 <b>Download R for (Mac) OS X</b>, and clicking on the <b>tools</b> link that is buried in the fourth paragraph. 
 </li>


<li> Click on <b>gfortran-6.1.pgk</b> to begin downloading the package. </li>

<li> Go into the <b>Downloads</b> folder and click on the file to begin the 
installation process.  </li>

<li> Once the installation has finished, click on <b>Move to Trash</b> to remove the installation package. </li>
</ol>
</div>
</div>




<div class ="box">
<h3>Step 5: Install the latest version of <b>R</b> from CRAN </h3>
<a href="javascript:showhide('step5')">
<img src="images/instructions.png"  class="img-responsive" width="70px" height="70px"/>
</a>


<div   id="step5" style="display:none;">	
<p></p>  

Eagle requires R 3.4 or later. However, it is always good practice the be using the latest version 
of R. Below are instructions on where to get the latest version and its installation. 
<p></p>

<ol> 
<li> Go to the <a href="https://cran.r-project.org/bin/macosx/">CRAN</a> website and click on the latest 
release of R for the Mac (<b>R-3.5.1.pkg</b>). </li>

<li> Go into the <b>Downloads</b> folder and click on the file to begin the 
installation process.  </li>

<li>Once the installation has finished, click on <b>Move to Trash</b> to remove the installation package. </li>
</ol>
</div>
</div>






<div class ="box">
<h3> Step 6: Installation of Homebrew  </h3>
<a href="javascript:showhide('step6')">
<img src="images/instructions.png"  class="img-responsive" width="70px" height="70px"/>
</a>


<div   id="step6" style="display:none;">	
<p></p>  

Homebrew is a package manager for those packages not supported by Apple. We will use Homebrew 
to install openBLAS. 
<p></p>


<ol>
<li> Go to the <a href="https://brew.sh/">Homebrew</a> website </li>

<li> Copy the <b>ruby</b> command in the dialogue box into a <b>terminal</b> window and follow the instructions </li>
</ol>

</div>
</div>





<div class ="box">
<h3> Step 7: Installation and linking of OpenBLAS </h3>
<a href="javascript:showhide('step7')">
<img src="images/instructions.png"  class="img-responsive" width="70px" height="70px"/>
</a>


<div   id="step7" style="display:none;">	
<p></p>  

OpenBLAS is a package containing multi-threaded math libraries for linear algebra operations. By replacing R's default 
libraries with the OpenBLAS libraries, many of R's linear algebra operations become implicitly parallelised. Eagle has been 
developed specifically to harness these multi-threaded math libraries. Below are instructions for installing OpenBLAS via 
Homebrew and then replacing R's default math libraries with OpenBLAS libraries. 


<p></p>

<ol>

<li> To install <b>OpenBLAS</b>, run the following command from a terminal
 <pre>  brew install openblas  </pre>
 Depending upon the state of your system, brew may return an error about directories not being writable. 
 Just run the <code>sudo</code> command that is given in the error message to fix this problem and rerun the above 
 command. 
 
</li>
 <p></p>
<li> Next, we need to find the location (path) of the R math library file <b>libRblas.dylib</b>. To do this, 
 run the following command from a <b>terminal</b> 
<pre> sudo find / -name 'libRblas.dylib' -print </pre>
On our system (High Sierra 10.13), it was located in <em>/Library/Frameworks/R.framework/Resources/lib/</em>. 
</li>
<p></p>
<li> We also need to find the location of the OpenBLAS math library file  <b>libopenblas.dylib</b>. Using the 
same <code>find</code> command as we used above, run the following command from a <b>terminal</b>
<pre> sudo find / -name 'libopenblas.dylib' -print </pre>
On our system (High Sierra 10.13), it was located in <em>/usr/local/Cellar/openblas/0.3.3/lib/</em>. 
</li>


<p></p>
<li> Replace <b>libRblas.dylib</b> with <b>libopenblas.dylib</b> for multi-threaded computation. 
To do this, use 
<pre>  sudo ln -sf location_of_libopenblas.dylib  location_of_libRblas.dylib  </pre>
For example, on our system, the command looks like 
<pre> sudo ln -sf /usr/local/Cellar/openblas/0.3.3/lib/libopenblas.dylib  /Library/Frameworks/R.framework/Resources/lib/libRblas.dylib </pre>
but it may be different on your system. 
</li>


</ol>

</div>
</div>







<div class ="box">
 <h3> Step 8: Run <b>R</b> </h3>
<a href="javascript:showhide('step8')">
<img src="images/instructions.png"  class="img-responsive" width="70px" height="70px"/>
</a>


<div   id="step8" style="display:none;">	
<p></p>  
    
        
<p> <b>R</b> can be run as an App from the Launchpad  </p>

        <img src="images/macR.jpg"  width="500px"  height="400px" > 
        
        
 <p> By clicking on the <b>R </b> icon, the R console window will appear. 
</p>
 

	
	</div>		      
</div>






<div class ="box">
   <h3> Step 9: Installation of the Eagle package </h3>
<a href="javascript:showhide('step9')">
<img src="images/instructions.png"  class="img-responsive" width="70px" height="70px"/>
</a>


<div   id="step9" style="display:none;">	
<p></p>  
    

      

<p> To install the Eagle package, from the R Console window, use the <b>install.packages( )</b> command


  <pre class="r"><code> install.packages(&quot;Eagle&quot; , repos = &quot;https://cloud.r-project.org/&quot;, dependencies=TRUE) </code></pre>
<p></p>

This will install Eagle and all of its dependencies. 

 </div>		      
</div>







<div class ="box">
   <h3> Step 10: Start using Eagle </h3>
<a href="javascript:showhide('step10')">
<img src="images/instructions.png"  class="img-responsive" width="70px" height="70px"/>
</a>


<div   id="step10" style="display:none;">	
<p></p>  
    

<p> To start using Eagle, from the R command window, type </p>

<pre class="r"> library("Eagle") </pre>

<p> This will load the Eagle package into your R session, ready for use. 
Go to <a href="quickstart.html">Quick Start Guide</a>  for instructions 
on how to use Eagle. 

</p>

</div>
</div>







</section>

		<!-- Footer -->
				<footer id="footer">
					<ul class="icons">
					    <li><a href="http://www.csiro.au"> <img src="images/csiro.jpg" 
										    class="img-responsive" width="100px" height="80px"/> </a> </li>
										    <li>  </li>
										     <li>  </li>
										      <li>  </li>
										       <li>  </li>
					<li><a href="http://data61.csiro.au"> <img src="images/data61.jpg" 
										     width="100px" height="80px"/> </a> </li>
										
				

					
					</ul>
					<div>Icons made by <a href="https://www.flaticon.com/authors/smashicons" title="Smashicons">Smashicons</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div> </summary>

				</footer>

	



		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/jquery.scrollgress.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>